(this.webpackJsonpriskclient=this.webpackJsonpriskclient||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(58),i=a.n(r),c=(a(76),a(16)),o=a(17),s=a(19),m=a(18),u=a(20),d=a(14),h=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("img",{src:"map.jpg"}))}}]),t}(n.PureComponent),p=a(122),g=a(13),E=a(123),f=a(124),v=a(125),C=a(127),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleMyNameChange=function(e){a.setState({myName:e.target.value})},a.handleActionChange=function(e){a.setState({action:e.target.value})},a.handlemainAreaIdChange=function(e){a.setState({mainAreaId:e.target.value})},a.handletargetAreaIdChange=function(e){a.setState({targetAreaId:e.target.value})},a.handleunitsUsedChange=function(e){a.setState({unitsUsed:e.target.value})},a.handleClick=function(e){a.props.sendAction(a.state.action,a.state.mainAreaId,a.state.targetAreaId,a.state.unitsUsed)},a.handleNameClick=function(e){a.props.setName(a.state.myName)},a.state={myName:"",action:"",mainAreaId:"",targetAreaId:"",unitsUsed:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(p.a,{interactive:!0,elevation:g.a.TWO},n.createElement("br",null),n.createElement(E.a,{label:"My Name:",labelFor:"text-input",inline:!0},n.createElement(f.a,{fill:!0,vertical:!1},n.createElement(v.a,{placeholder:"Name?",style:{width:"9em"},onChange:this.handleMyNameChange}))),n.createElement(C.a,{icon:"arrow-left",text:"Set Name",onClick:this.handleNameClick}),n.createElement(E.a,{label:"Action:",labelFor:"text-input",inline:!0},n.createElement(f.a,{fill:!0,vertical:!1},n.createElement(v.a,{placeholder:"Action",style:{width:"9em"},onChange:this.handleActionChange}))),n.createElement(E.a,{label:"Main area ID",labelFor:"text-input",inline:!0},n.createElement(f.a,{fill:!0,vertical:!1},n.createElement(v.a,{placeholder:"area ID",style:{width:"9em"},onChange:this.handlemainAreaIdChange}))),n.createElement(E.a,{label:"Target area ID",labelFor:"text-input",inline:!0},n.createElement(f.a,{fill:!0,vertical:!1},n.createElement(v.a,{placeholder:"area ID",style:{width:"9em"},onChange:this.handletargetAreaIdChange}))),n.createElement(E.a,{label:"Units Used",labelFor:"text-input",inline:!0},n.createElement(f.a,{fill:!0,vertical:!1},n.createElement(v.a,{placeholder:"1-100",style:{width:"9em"},onChange:this.handleunitsUsedChange}))),n.createElement(C.a,{icon:"arrow-left",text:"Send",onClick:this.handleClick})),n.createElement(p.a,{interactive:!0,elevation:g.a.TWO},this.props.recentEvents.map((function(e,t){return n.createElement("div",{key:t},e)}))))}}]),t}(n.PureComponent),b=a(126),A=a(61),N=a(23),O=a(62),k=a(60),_=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.createElement(b.a,null,n.createElement(A.a,{align:N.a.LEFT},n.createElement(O.a,null,"Yout Name: ",this.props.yourName),n.createElement(k.a,null),n.createElement(O.a,null,"Active Player: ",this.props.activePlayer),n.createElement(k.a,null),n.createElement(O.a,null,"Current phase: ",this.props.currentPhase)))}}]),t}(n.PureComponent),j=a(63),w=a.n(j),I=(a(84),a(59)),S=a(64),x=a.n(S),F=a(65),U=a.n(F),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).stompClient=null,a.showGreeting=function(e){},a.doAction=function(e,t,a,n,l){},a.riskServerConnect=function(){var e=new x.a("/gs-guide-websocket");a.stompClient=U.a.over(e),a.stompClient.connect({},(function(e){a.stompClient.subscribe("/topic/greetings",(function(e){var t=JSON.parse(e.body).content;a.showGreeting(t),a.log_communication(" < GREETING: "+t)})),a.stompClient.subscribe("/topic/actions",(function(e){var t=JSON.parse(e.body);a.doAction(t.player,t.action,t.area,"",0),a.log_communication(" < "+t.playerId+": ACTION["+t.action+"]: area["+t.area+"], targetArea["+t.targetArea+"], units["+t.units+"],")}))})),a.setState({loaded:!0})},a.riskServerDisconnect=function(){null!==a.stompClient&&a.stompClient.disconnect()},a.log_communication=function(e){var t=a.state.logdata.slice();t.unshift(e),a.setState({logdata:t})},a.server_sendName=function(e){a.stompClient.send("/app/hello",{},JSON.stringify({name:e})),a.log_communication(" > NAME: "+e)},a.server_sendAction=function(e,t,n,l){a.log_communication(" > "+a.state.player_id+": ACTION["+e+"]: area["+t+"] target_area["+n+"] units["+l+"]"),a.stompClient.send("/app/do",{},JSON.stringify({playerId:a.state.player_id,action:e,area:t,targetArea:n,units:l}))},a.setUserName=function(e){a.setState({player_id:e}),a.server_sendName(e)},a.state={loaded:!1,areas:[],players:[],logdata:["Log lines goes here","This is the first line"],game_id:"",player_id:"",active_player:"",current_phase:"",last_message_id:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.riskServerConnect()}},{key:"render",value:function(){var e,t,a;return this.state.loaded?(e=l.a.createElement(h,null),t=l.a.createElement(y,{recentEvents:this.state.logdata,sendAction:this.server_sendAction,setName:this.setUserName}),a=l.a.createElement(_,{yourName:this.state.player_id,activePlayer:this.state.active_player,currentPhase:this.state.current_phase})):(e=l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null)),t=l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null)),a=l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null))),l.a.createElement("div",{className:"App"},l.a.createElement(d.Grid,{fluid:!0},l.a.createElement(d.Row,null,l.a.createElement(d.Col,{xs:1}),l.a.createElement(d.Col,{xs:11},a)),l.a.createElement(d.Row,null,l.a.createElement(d.Col,{xs:1},l.a.createElement("img",{src:w.a,className:"App-logo",alt:"logo"})),l.a.createElement(d.Col,{xs:8},e),l.a.createElement(d.Col,{xs:3},t))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},63:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},71:function(e,t,a){e.exports=a(120)},76:function(e,t,a){},84:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.f29ad72a.chunk.js.map